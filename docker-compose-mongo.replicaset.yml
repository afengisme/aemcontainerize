version: "2.0"
services:
  mongorep01:
    image: mongo:latest
    container_name: mongorep01
    environment:
      - MONGO_INITDB_ROOT_USERNAME=mongo
      - MONGO_INITDB_ROOT_PASSWORD=mongopassword
    command: mongod --replSet "aemrs0" --bind_ip mongorep01 --keyFile /data/db/keyfile
    volumes:
      - /root/aem/mongodata/mongorep01:/data/db
    ports:
      - 27101:27017
  mongorep02:
    image: mongo:latest
    container_name: mongorep02
    environment:
      - MONGO_INITDB_ROOT_USERNAME=mongo
      - MONGO_INITDB_ROOT_PASSWORD=mongopassword
    command: mongod --replSet "aemrs0" --bind_ip mongorep02 --keyFile /data/db/keyfile
    volumes:
      - /root/aem/mongodata/mongorep02:/data/db
    ports:
      - 27102:27017
